<nav class="sidebar bg-white shadow-sm p-3 rounded-end h-100">
  <div class="mb-4 text-center">
    <span class="fs-4 fw-bold text-primary"><i class="bi bi-motherboard me-2"></i>TG 105</span>
  </div>
  <ul class="nav flex-column gap-2">
    <li class="nav-item" *ngFor="let link of links; let i = index">
      <a class="nav-link d-flex align-items-center sidebar-link" [routerLink]="link.route" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <i class="bi me-2" [ngClass]="getIcon(i)"></i> {{ link.label }}
      </a>
    </li>
    <!-- Bouton Actions & Indicateurs pour coordinateur -->
    <li class="nav-item" *ngIf="userRole === 'coordinateur'">
      <button class="nav-link d-flex align-items-center sidebar-link w-100 border-0 bg-transparent" (click)="toggleActionsPanel()">
        <i class="bi bi-gear-wide-connected me-2"></i> Actions & Indicateurs
      </button>
    </li>
  </ul>
</nav>

<!-- Panneau latéral Actions & Indicateurs -->
<div class="actions-panel-overlay" *ngIf="showActionsPanel" (click)="closeActionsPanel()"></div>
<div class="actions-panel" [class.show]="showActionsPanel">
  <div class="actions-panel-header">
    <h5 class="mb-0">Actions & Indicateurs Coordinateur</h5>
    <button class="btn-close" (click)="closeActionsPanel()">&times;</button>
  </div>
  <div class="actions-panel-content">
    <!-- Debug -->
    <div *ngIf="showActionsPanel" class="debug-info">
      <p>Panneau ouvert: {{ showActionsPanel }}</p>
      <p>Rôle utilisateur: {{ userRole }}</p>
    </div>
    <!-- Composant -->
    <app-actions-indicateurs-coordinateur *ngIf="showActionsPanel"></app-actions-indicateurs-coordinateur>
  </div>
</div>
